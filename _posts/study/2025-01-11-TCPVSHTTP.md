---
title: TCP vs HTTP
date: 2025-01-11 00:13:00 +09:00
categories: [common_topic]
tags: [common]
image: 
---

# HTTP와 TCP/IP

HTTP와 TCP/IP는 서로 상호작용하며 동작하는 프로토콜입니다. 하지만 많은 경우 HTTP와 TCP/IP를 완전히 다른 프로토콜로 취급하는 오해가 있습니다. 실제로 HTTP는 TCP 기반으로 설계된 프로토콜입니다.

HTTP를 제대로 이해하기 위해 OSI 7계층 모델을 알아야 하지만, 간략히 요약된 내용을 통해 개념을 잡아보겠습니다.

---

# OSI 7 Layer

인터넷 주소창에 `www.google.com`을 입력하면, 여러 단계의 데이터 포맷 변환이 일어납니다. 이 과정은 OSI 7계층 모델에서 설명할 수 있습니다.

1. **응용 계층(Application Layer)**: 사용자가 브라우저에 주소를 입력하는 행위는 응용 계층에 해당합니다. 이 계층에서 서버에 보낼 데이터와 프로토콜 방식에 대한 헤더가 생성됩니다.
2. **표현 계층(Presentation Layer)**: 암호화 및 복호화와 같은 데이터 표현 방식의 변환 작업이 이루어집니다.
3. **세션 계층(Session Layer)**: 연결 설정과 관리, 에러 제어 등의 작업이 수행됩니다.
4. 그 이후 데이터는 다른 계층(전송 계층, 네트워크 계층 등)을 지나면서 각각의 계층별 헤더가 추가되고 최종적으로 물리 계층에서 전달됩니다.

이처럼 데이터는 응용 계층에서 시작해 물리 계층으로 내려가며 여러 계층을 거칩니다.

---

# HTTP == TCP?

HTTP와 TCP는 서로 다르지만, HTTP는 TCP를 기반으로 동작합니다. HTTP는 TCP의 특성(연결 지향성, 신뢰성, 흐름 제어 등)을 사용하여 데이터를 전송합니다. 그러나 HTTP 자체는 별도의 프로토콜로 정의되어 있으므로 두 프로토콜을 같다고 볼 수는 없습니다.

## TCP의 주요 특징

1. **연결 지향적**: 클라이언트와 서버 간 연결이 반드시 설정됩니다.
2. **3-Way Handshaking & 4-Way Handshaking**: 통신 준비 상태를 확인하고 연결을 설정하며, 데이터 전송 후 연결을 종료하는 과정을 통해 신뢰성을 보장합니다.
3. **순서 보장**: 패킷의 순서를 보장하며, 데이터 손실이 발생하면 복구를 시도합니다.

### TCP와 UDP의 차이

- **TCP**: 데이터 순서 보장, 신뢰성 제공, 연결 지향적.
- **UDP**: 데이터 전송 후 확인하지 않음(비연결성), 순서 보장 없음.

HTTP는 이러한 TCP의 모든 특징을 상속받아 동작합니다.

---

# HTTP와 TCP 소켓 통신의 차이

## 주요 차이점

- **HTTP**: 정해진 규칙에 따라 요청-응답 구조로 동작하며, 기본적으로 연결이 유지되지 않는 비연결성 기반입니다. 그러나 HTTP/1.1부터는 `Keep-Alive` 옵션을 통해 연결을 유지할 수 있으며, HTTP/2에서는 멀티플렉싱을 통해 한 연결에서 다수의 요청과 응답을 처리합니다. 더 나아가 HTTP/3는 QUIC 프로토콜을 기반으로 하여 연결 설정 및 데이터 전송 속도를 크게 향상시킵니다.
- **TCP 소켓 통신**: TCP 소켓 통신은 연결 설정을 위해 3-Way Handshaking 과정을 거쳐 클라이언트와 서버 간의 지속적인 연결을 유지하며 데이터를 주고받는 연결 지향적 방식입니다. 데이터 전송 시 순서 보장과 신뢰성을 제공하며, 흐름 제어 및 오류 복구 메커니즘을 통해 안정적인 통신을 지원합니다.

### HTTP와 TCP 소켓 통신 비교

1. **TCP 소켓 통신**
   - 전송 계층(4계층)에서 패킷이 생성됩니다.
   - 프로그래머가 각 단계에서 필요한 기능을 직접 구현해야 합니다.
   - 예: Java로 만든 채팅 서버에서 TCP 소켓을 통해 문자열 데이터를 전송.
2. **HTTP 통신**
   - 응용 계층(7계층)에서 패킷이 생성됩니다.
   - 프로토콜이 정의되어 있어 서버와 클라이언트 간 요청-응답 구조를 쉽게 구현 가능합니다.
   - 예: C++로 만든 HTTP 서버에서 JSON 데이터를 HTTP 프로토콜로 전송.

---

# HTTP 구현 시 TCP 소켓 사용 가능?

TCP 소켓으로 HTTP 통신을 구현하는 것은 가능합니다. 하지만 다음과 같은 문제가 있습니다:

1. 패킷 단위 코딩 실력이 필요하며, 계층별 헤더를 정의할 줄 알아야 합니다.
2. 논블로킹 비동기 방식으로 입출력을 제어해야 하므로 구현이 복잡합니다.

따라서 대부분 HTTP 프로토콜을 지원하는 API나 프레임워크를 사용합니다. 이를 통해 세션 유지, 바인딩 등을 쉽게 처리할 수 있습니다.

---

# HTTP와 TCP의 관계 정리

- **4계층 관점**: HTTP와 TCP는 연결 지향적 통신을 수행합니다. TCP는 신뢰성과 순서를 보장하고, HTTP는 이를 바탕으로 데이터를 주고받습니다.
- **7계층 관점**: HTTP는 비연결성(요청 후 연결 종료), TCP 소켓 통신은 연결 지향성(지속적 연결 유지)으로 동작합니다.

HTTP는 TCP를 기반으로 설계되었으므로 TCP의 모든 특성을 가집니다. 하지만 HTTP는 애플리케이션 계층의 프로토콜로, TCP와는 분명히 다른 역할을 수행합니다.

---

# 결론

HTTP 대신 TCP를 직접 사용하는 것은 복잡성과 자원 소비 측면에서 비효율적입니다. HTTP는 TCP의 신뢰성과 연결 지향성을 바탕으로 더 간단한 규칙과 구조를 제공하여 웹 통신을 용이하게 합니다.

현대의 HTTP/2, HTTP/3는 TCP 또는 QUIC와 같은 전송 기술을 활용하여 성능과 효율성을 더욱 개선하고 있습니다. HTTP와 TCP의 협력은 인터넷 통신의 핵심이며, 두 프로토콜이 상호 보완적으로 작동함으로써 현대 인터넷이 가능해졌습니다.
